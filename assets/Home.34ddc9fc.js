import{u as a,j as e,L as c,a as t,b as m}from"./index.0e2261e7.js";import{d,L as u,r as h}from"./vendor.94af98fa.js";const f=()=>{const[i,s]=h.exports.useState(!1),{data:n,error:r,isLoading:o}=m(void 0,{enabled:i,onError:l=>{console.error(l)},staleTime:2*6e4});return t("div",{className:"flex flex-col items-center",children:[e("h2",{className:"m-1 text-2xl font-extrabold",children:"Welcome to Demo!"}),e("button",{onClick:()=>{i||s(!0)},className:"teal-btn",children:o?"loading...":"Load users"}),r&&e("div",{children:r.message}),!o&&!r&&e("ul",{className:"mt-8",children:n==null?void 0:n.allUsers.map(l=>e("li",{children:e("pre",{children:JSON.stringify(l)})},l.id))})]})},N=()=>{var r;const i=d(),{data:s,isLoading:n}=a(void 0,{onError:()=>{i("/sign-in")}});return n?e(c,{}):(s==null?void 0:s.whoami)?e("section",{children:((r=s==null?void 0:s.whoami)==null?void 0:r.name)&&e(f,{})}):t("div",{className:"flex justify-center items-center",children:["Please \xA0"," ",e(u,{to:"/sign-in",className:"link",children:"sign in"}),"."]})};export{N as default};
